---
layout: post
date: 2017-03-04 08:50:28
categories: алгоритмы java
title: 14. Longest Common Prefix
author_name : Luka Kosiv
author_url : /author/lukosiv
author_avatar: lukosiv
show_avatar : true
feature_image: feature-san-fran
show_related_posts: true
square_related: recommend-san-fran
---

> Написать функцию поиска самого длинного префикса в массиве строк.

> Сложная: простая.

## Анализ

Пример: `"abcd", "abcde", "abzz", "abcdef", "abhh".`

Итак, нам нужно найти общий префикс. Префикс --- это начало каждого слова. Если мы возьмем первое слово, 
в нем уже будет искомый префикс, он начинается с первого символа, но не ясно где заканчивается. 
Потому нам нужно подобрать необходимую длинну. Найти точку, где префикс заканчивается. 
Подбирать длину можно несколькими способами:

* принять за префикс первый символ и увеличивать длину;
* принять за префикс все первое слово целиком и уменьшать длину;

Заранее отмечу, что первый способ не работает.

Что бы убедиться, что префикс действительно присутствует во всех словах нам необходимо переборать все слова. 
Сложность в таком случае будет `O(n)`, где `n` --- количество слов.

Допустим мы выбрали первый способ. Начнем пребор слов слева на право. 
Перебирая слова мы будем проверять, начинается ли текущее слово на текущий префикс.
Мы будем наращивать длину до тех пор, пока префикс будет входить в текущее слово. 

Например, текущий префикс `a`, текущее слово `abcde`. Наращиваем префикс от `a` до `abcd`. 
Идем далее, следующее слово `abzz`, оно не содержит текущий префикс, потому префикс нужно уменьшать до `ab`. 

И тут мы сталкиваемся с тем, что далее, когда мы переходим к третьему слову мы уже **не можем** увеличивать длину 
префикса, потому что тогда второе слово `abzz` не будет начинаться на этот префикс.
Таким образом мы будем только уменьшать длину префикса. Как результат способ поиска длины префикса путем увеличения длины
 превращается в способ поиска путем уменьшения длины. 
 
 Пример реализации:

{% highlight java %}

String longestCommonPrefix(String[] strings) {
  if (strings == null || strings.length == 0) return "";

  // пусть префикс, это все первое слово
  String prefix = strings[0];

  // перебираем слова начиная со второго слова
  int wordIndex = 1;
  while (wordIndex < strings.length) {
    
    // уменьшаем префикс, если текущее слово его не содержит
    while (strings[wordIndex].indexOf(prefix) != 0) {
      prefix = prefix.substring(0, prefix.length() - 1);
    }
    
    wordIndex++;
  }
  return prefix;
}

{% endhighlight %}

<br/>
Пожалуйста, используйте `<pre><code>...</code></pre>` для коментирования кода.