---
layout: post
date: 2017-03-04 08:50:28
categories: алгоритмы java
title: 20. Valid Parentheses
author_name : Luka Kosiv
author_url : /author/lukosiv
author_avatar: lukosiv
show_avatar : true
feature_image: feature-san-fran
show_related_posts: true
square_related: recommend-san-fran
---

> Дана строка содержащая лишь символы `(, ), {, }, [, ]`, определить является ли она правильной.
  Скобки должны закрываться в правильном порядке: `()` и `()[]{}` -- правильно, `(]` и `([)]` -- не правильно.

> Сложность: простая.

## Анализ

Если в задаче необходимо работать объектами, которые обозначают начало и конец, например промежуток времени или
порядок действий, удобно использовать стек. Также, при работе с символами не лишним будет информация об их кодах:

`'(' = 40, ')' = 41, '[' = 91, ']' = 93, '{' = 123, '}' = 125`

Можно заметить, что в таблице ASCII, противоположные символы находять рядом. Разница не более 2 (1 или 2).

Итак, в задаче нужно проверить строку на правильность. Если сказать конкретней, необходимо просмотреть строку слева на право
проверяя, что если появляется закрытая скобка, то ей предшествовала открытая. Мы будем складывать открытые скобки в стек, 
а вынимать их, если появляется закрытая, такого же типа. Проверять на тип, будем с помощь извесных нам ASCII кодов, разница
между кодами должна не превышать 2. Если тип скобки не соответствует --- мы прерываем сканирование и отмечаем строку неправильной.

 Пример реализации:

{% highlight java %}

boolean isValid(String s) {
  Stack<Character> stack = new Stack<>();
  
  for (int i = 0; i < s.length(); ++i) {
    char ch = s.charAt(i);
    
    // если начало вложенности - кладем её в стек 
    if (ch == '(' || ch == '[' || ch == '{') {
      stack.push(ch);
    } else {
      // если конец вложенности - проверяем какой символ был в начале  
      if (stack.empty() || Math.abs(stack.pop() - ch) > 2) {
        return false;
      }
    }
  }
  return stack.empty();
}

{% endhighlight %}

<br/>
Пожалуйста, используйте `<pre><code>...</code></pre>` для коментирования кода.